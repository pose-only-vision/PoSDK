# GraphOptim 位姿约定

GraphOptim 主要用于旋转平均（Rotation Averaging）。
**（v2版本后续完善）**
<!--
## 输入 (相对位姿)

GraphOptim 的输入是成对的相对旋转矩阵 $R_{ij}$ 和相对平移向量 $t_{ij}$。这些表示从相机 $i$ 的坐标系到相机 $j$ 的坐标系的转换关系。

一个在相机 $i$ 坐标系下的点 $P_i$ 可以通过以下方式转换到相机 $j$ 坐标系下的点 $P_j$

\[ P_j = R_{ij} P_i + t_{ij} \]

其中
* $R_{ij}$ 是一个 $3 \times 3$ 的旋转矩阵。
* $t_{ij}$ 是一个 $3 \times 1$ 的平移向量。

## 输出 (全局位姿的旋转部分)

GraphOptim 的输出是全局旋转矩阵 $R_w$ (通常表示为 $R_{wi}$，即从世界坐标系到相机 $i$ 坐标系的旋转)。它并不直接输出全局平移。

在 GraphOptim 的上下文中，通常第一个相机的位姿被视为世界坐标系，即 $R_{w0} = I$ (单位矩阵) 且 $t_{w0} = \mathbf{0}$ (零向量)。其他相机的全局旋转 $R_{wi}$ 是相对于这个隐式定义的第一个相机（世界）坐标系而言的。

因此，对于任意相机 $i$，其在世界坐标系下的旋转为 $R_{wi}$。一个在世界坐标系下的点 $P_w$ 转换到相机 $i$ 坐标系下的点 $P_i$ 的旋转部分可以表示为

\[ P_i = R_{wi} P_w \]

请注意，GraphOptim 主要关注旋转部分的优化，平移部分通常由其他模块（如平移平均或全局BA）处理。
-->